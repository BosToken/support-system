isDisableFAnimation=false;phoneFormat="999 999 9999";var MyAjaxChange=false;var isWaitAdded=false;var showlog=false;var lboxOnCloseMethods=new Array();var pageResizeMethod=new Array();var addonLoadPopup=new Array();var addonGridDataLoad=new Array();var addOnInitialize=new Array();var addonPageClose=[];var addonShowNotification=[];var csrf_ajax_cookie_name="app_token_ajax";var csrf_ajax_input_name="app_form_ajax";if(typeof(console)=="undefined"){console={log:function(){}}}function gcl(b,a){if(a&&!showlog){return}if(typeof(console.log)!="undefined"){console.log(b)}}String.prototype.hashCode=function(){var d=0,b,c,a;if(this.length===0){return d}for(b=0,a=this.length;b<a;b++){c=this.charCodeAt(b);d=((d<<5)-d)+c;d|=0}return d};function setServiceWorker(){return}function set_csrf_param(c){var a=getCookie(csrf_ajax_cookie_name);if(a&&a!=""){if(typeof c=="string"){if(c!=""){c+="&"}c+=csrf_ajax_input_name+"="+a}else{if(typeof c=="object"){try{if(typeof c.append==="function"){c.append(csrf_ajax_input_name,a)}else{if(c.length==0){c[csrf_ajax_input_name]=a}else{c[csrf_ajax_input_name]=a}}}catch(b){}}}}return c}function DownloadFile(a){if(jQuery("#difrm").length==0){jQuery("body").append("<iframe id='difrm' style='border:none;height:0;width:0'></iframe>")}jQuery("#difrm").attr("src",a)}function setFileDownloader(){$(".app-file-downloader").click(function(b){b.preventDefault();var a=$(this).attr("href");DownloadFile(a)})}$(function(){try{$.extend($.gritter.options,{position:"top-right"})}catch(a){gcl(a.message,true)}$("body").prepend('<div id="MainLoader"><div class="app-loader"><div class="bar1"></div><div class="bar2"></div><div class="bar3"></div><div class="bar4"></div><div class="bar5"></div><div class="bar6"></div></div><div class="msgText"></div></div>');try{$.gritter.options.position="bottom-right"}catch(a){}try{$("body").on("resize",".lightbox-body",function(){$.colorbox.resize()})}catch(a){}$("body").on("sidebarChanged",function(b){if($(this).hasClass("sidebar-collapse")){setCookie("isSBC",1,30,"/")}else{setCookie("isSBC",0,30,"/")}ResizeMainMenu();ResizeAll()});$(window).resize(function(){ResizeMainMenu()});$("body").on("click",".close-pop-up",function(b){try{$.magnificPopup.instance.close()}catch(b){}});AddOnLoadPopupMethod(SetBootstrapSelect);AddOnLoadPopupMethod(SetTextDigit);AddOnLoadPopupMethod(setNiceScroll);AddOnLoadPopupMethod(setAjaxTogleButton);Initialize();try{setServiceWorker()}catch(a){}try{SetDefaultColorButton()}catch(a){}try{SetImageInput()}catch(a){}setPageCloseMethod();$(document).on("click",".bs-dropdown-to-select-group .dropdown-menu li",function(c){var b=$(c.currentTarget);b.closest(".bs-dropdown-to-select-group").find('[data-bind="bs-drp-sel-value"]').val(b.attr("data-value")).end().children(".dropdown-toggle").dropdown("toggle");b.closest(".bs-dropdown-to-select-group").find('[data-bind="bs-drp-sel-label"]').text(b.context.textContent);return false})});function Initialize(){try{SetTable();HideMe();FromOnSubmit();SetLightBox();Legend();SetConfirm();SetSlider()}catch(a){gcl(a.message,true)}SetSelectBox();SetAjaxForm();$(document).on("click",".hideme",function(){$(this).parent().hide("slow")});setToolTipNalert();SetDatePicker();SetColorPicker();SetFromValidation();try{setMask()}catch(a){gcl(a)}SetFromValidation();SetAjaxPopover();SetPrintButton();ResizeMainMenu();SetTag();setSelect2();setPopUpAjax();setFileDownloader();setSwitchButton();SetBootstrapSelect();SetTextDigit();SetNormalFormAjax();try{for(i in addOnInitialize){try{addOnInitialize[i]()}catch(a){}}}catch(a){console.log(a)}setNiceScroll();setOverFlowMarquee();set_vertical_menu();setAjaxTogleButton()}function setAjaxTogleButton(){$(".ajax-toggle:not(.added-ajax-toggle)").on("change",function(j){var a=$(this).data("url");var l=$(this).data("beforesend");var g=$(this).data("oncomplete");var k=$(this).data("yes");var b=$(this).data("no");if(k===undefined){k="Y"}if(b===undefined){b="N"}var d=$(this).is(":checked")?k:b;var f=$(this).data("msg");var h=true;var c=$(this);if(f!==null&&f!==undefined){swal({title:"",text:f,type:"warning",showCancelButton:true,confirmButtonClass:"btn-danger",confirmButtonText:"Yes",cancelButtonText:"No",closeOnConfirm:false,closeOnCancel:true,showLoaderOnConfirm:true},function(e){if(e){swal.close();process_ajax_toggle(a,c,d,l,g)}else{c.prop("checked",d!="Y")}});return}if(h){process_ajax_toggle(a,c,d,l,g)}});$(".ajax-toggle:not(.added-ajax-toggle)").addClass("added-ajax-toggle")}function process_ajax_toggle(url,thisobj,finalData,beforeSend,oncomplete){$.ajax({url:url,data:{status:finalData},type:"GET",scriptCharset:"utf-8",dataType:"json",beforeSend:function(){if(beforeSend!==undefined){beforeSend=eval(beforeSend);if($.isFunction(beforeSend)){beforeSend(thisobj)}}},success:function(rdata){if(oncomplete!==undefined){oncomplete=eval(oncomplete);if($.isFunction(oncomplete)){oncomplete(rdata,thisobj)}}}})}function setOverFlowMarquee(){$(".app-ov-mrq").each(function(){try{var d=$(this);var a=this.scrollHeight>this.clientHeight||this.scrollWidth>this.clientWidth;if(a){var b=$(this).html();b='<marquee behavior="alternate" scrollamount="2">'+b+"</marquee>";$(this).html(b)}}catch(c){}})}function setToolTipNalert(){try{$(".tooltip2:not(.added-tooltip2)").each(function(g){$(this).on("mouserover",function(h){h.stopPropagation()});var c=$(this).data("tooltip-position");if(!c){c="bottom"}var b=$(this).data("tooltip-delay");var d=[300,300];if(b){d=[b,300]}var f={top:["top","bottom","right","left"],bottom:["bottom","top","right","left"],right:["right","left","top","bottom"],left:["left","right","top","bottom"]};$(this).tooltipster({maxWidth:500,side:f[c],animation:"grow",delay:d,theme:"tooltipster-borderless",contentCloning:true}).addClass("added-tooltip2")})}catch(a){gcl(a.message,true)}$(".GSTooltip,.app-tooltip").tooltip();$(".GSPopover,.app-popover").popover();$(".GSPopoverHtml,.app-popover-html:not(.added-popov)").popover({html:true,content:function(){var b=$(this).data("custom-content");b=$(b).html();return b}}).addClass("added-popov");$(".alert").alert()}function SetTag(){try{$(".app-tags").selectize({plugins:["remove_button"],persist:false,create:true,triggertrigger:"input",render:{item:function(c,b){return"<div>"+b(c.text)+"</div>"}},onDelete:function(b){return true}})}catch(a){gcl(a)}}function ResizeMainMenu(){if($("body").hasClass("sidebar-collapse")){try{$("#sidebar-menu-container").perfectScrollbar("destroy")}catch(d){gcl(d)}}else{try{var b=$(".main-header").height();var c=$(".user-panel").innerHeight();var a=window.innerHeight-b-c;$("#sidebar-menu-container").height(a).perfectScrollbar({suppressScrollX:true})}catch(d){gcl(d)}}return}function LoadAjaxContent(c,b){var a=b.hashCode();if(typeof window.loadedurl=="undefined"){window.loadedurl=[]}if(typeof window.loadedurl[a]!="undefined"){setTimeout(function(){$("#"+c).html(window.loadedurl[a])},50);return}$.get(b,function(d){window.loadedurl[a]=d;$("#"+c).html(d)})}function SetAjaxPopover(){try{var a=0;$(".app-popover-ajax:not(.added-popover)").popover({html:true,trigger:"hover",container:"body",delay:500,placement:"bottom",template:'<div class="popover popover2" role="tooltip"><div class="arrow arrow-dynamic"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>',content:function(){var c=$(this).data("content-url");var e="popover"+a++;var d='<div id="'+e+'" class="ajax-popover-container"><i class="ajax-popover-loader fa fa-spin fa-refresh"/></div>';LoadAjaxContent(e,c);return d}});$(".app-popover-ajax:not(.added-popover)").addClass("added-popover")}catch(b){console.log(b)}}function AppGridPopDropdown(){try{$(".grid-dropdown").on("click",function(h){var b=$(this).data("content-id");var c=$(this);var f=$(this).attr("aria-expanded");var k=$(this).closest("table");var d=$(this).closest(".ui-jqgrid-bdiv");if(true||typeof f=="undefined"||f==""){var g=c.parent().find(">.dropdown-menu");g.css({visibility:"hidden",display:"block"});g.parent().removeClass("dropup");if(g.offset().top+g.outerHeight()>d.offset().top+d.height()+k.scrollTop()){g.parent().addClass("dropup")}var j=c.position().left+c.width()+14;j=c.parent().width()-j;g.removeAttr("style");g.css({left:"auto",right:j})}})}catch(a){gcl(a)}}function AppGridDataLoaded(){SetAjaxPopover();AppGridPopDropdown()}function SetSlider(){try{$(".slider").slider()}catch(a){}}function SetDatePicker(){try{$(".app-date-picker:not(.added-picker)").datetimepicker({pickTime:false,timepicker:false,useStrict:true,format:"Y-m-d",scrollInput:false,onSelectDate:function(b,c){c.trigger("input");c.trigger("keyup")},onShow:function(h,g){var t=g.val();var b=new Date(t.replace(/-/g,"/"));var o=b.getMonth()+1;if(o<10){o="0"+o}t=b.getFullYear()+"/"+o+"/"+b.getDate();var r=g.data("min-date");var q=g.data("min-elem");var s=$(q).val();if(s){var e=new Date(s.replace(/-/g,"/"));var f=e.getMonth()+1;if(f<10){f="0"+f}s=e.getFullYear()+"/"+f+"/"+e.getDate()}var l=g.data("max-date");var k=g.data("max-elem");var c=$(k).val();if(c){var n=new Date(c.replace(/-/g,"/"));var f=n.getMonth()+1;if(f<10){f="0"+f}c=n.getFullYear()+"/"+f+"/"+n.getDate()}var p=false;if(q&&s!=""){p=s;if(t==p&&p!=r){p=r}}else{if(r&&r!=""){p=r}}var j=false;if(k&&c!=""){j=c;if(t==j&&j!=l){j=l}}else{if(l&&l!=""){j=l}}if(p){p=p.replace(/-/g,"/")}if(j){j=j.replace(/-/g,"/")}this.setOptions({minDate:p,maxDate:j})}});$(".app-date-picker:not(.added-picker)").addClass("added-picker")}catch(a){}SetDateTimePicker()}function SetDateTimePicker(){try{$(".app-datetime-picker:not(.added-picker)").datetimepicker({pickTime:false,useStrict:true,step:15,format:"Y-m-d H:i",onSelectDate:function(b,c){c.trigger("input");c.trigger("keyup")},onSelectTime:function(b,c){c.trigger("input");c.trigger("keyup")}});$(".app-datetime-picker:not(.added-picker)").addClass("added-picker")}catch(a){}try{$(".app-time-picker:not(.added-picker)").datetimepicker({datepicker:false,format:"H:i",step:15,useStrict:true,onSelectDate:function(b,c){c.trigger("input");c.trigger("keyup")},onSelectTime:function(b,c){c.trigger("input");c.trigger("keyup")}});$(".app-time-picker:not(.added-picker)").addClass("added-picker")}catch(a){}}function SetColorPicker(){try{$(".app-color-picker:not(.added-color-picker)").each(function(j){try{var h=$(this).data("target");if(h&&h!=""){var d=$(h);$(this).colorpicker({input:d})}else{var b=$(this);var g=b.val();if(g==""){g="transparent"}var f=b.colorpicker({format:"hex"});var c=b.parent().find(">.input-group-addon >i.c-preview");if(c){f.on("changeColor",function(k){b.trigger("input")});b.on("input",function(){var e=$(this).val();if(e==""){e="transparent"}c.css("color",e)});c.css("color",g)}}$(this).addClass("added-color-picker")}catch(j){gcl(j)}})}catch(a){}}function SetDateGridPicker(){try{$(".gs-date-picker-grid-options").each(function(f){if(!$(this).hasClass("addedDate")){$(this).addClass("addedDate");var d=$(this).find(">input");var c=$(this).attr("data-type");var b={pickTime:true,timepicker:false,useStrict:true,format:"Y-m-d",onChangeDateTime:function(e,g){d.val(e.dateFormat("Y-m-d"))}};if(c=="date"||c=="daterange"){b.pickTime=false;b.timepicker=false;b.format="Y-m-d"}else{if(c=="time"||c=="timerange"){b.pickTime=true;b.timepicker=true;b.datepicker=false;b.format="H:i";b.onChangeDateTime=function(e,g){d.val(e.dateFormat("H:i"))}}else{if(c=="datetimerange"){b.pickTime=true;b.timepicker=true;b.onChangeDateTime=function(e,g){d.val(e.dateFormat("Y-m-d H:i"))}}}}$(this).datetimepicker(b)}})}catch(a){gsl(a)}}function UnsetDateGridPicker(){try{$(".gs-date-picker-grid-options.addedDate").each(function(b){$(this).removeClass("addedDate").datetimepicker("destroy")})}catch(a){gsl(a)}}function SetSelectBox(){try{}catch(a){gcl(a.message,true)}}function ShowWait(a,b,c){if(typeof(a)=="undefined"){a=true}if(typeof(c)=="undefined"){c=function(){}}if(typeof(b)=="undefined"){b="Please Wait"}if(a){$("#MainLoader .msgText").html(b);$("#MainLoader").fadeIn(400,c)}else{$("#MainLoader").fadeOut(400,c)}}function ShowFormWait(a,b,c){if(typeof(a)=="undefined"){a=true}if(typeof(c)=="undefined"){c=function(){}}if(typeof(b)=="undefined"){b="Please Wait"}if(a){b='<i class="fa fa-spinner fa-spin"></i>'+b;$("#MainFormLoader .msgText").html(b);$("#MainFormLoader").fadeIn(400,c)}else{$("#MainFormLoader").fadeOut(400,c)}}function ShowSideBarLoaderWait(a,b,d){var c=$(a);if(typeof(b)=="undefined"){b=true}if(typeof(d)=="undefined"){d="Please Wait"}if(b){c.find(".msgText").html(d);c.fadeIn()}else{c.fadeOut()}}function ShowGritterMsg(c,f,a,j,h,d){try{if(typeof(f)=="undefined"){f=true}if(typeof(a)=="undefined"){a=false}if(typeof(j)=="undefined"){j="Notification"}if(typeof(h)=="undefined"){h=""}if(typeof(d)=="undefined"){d=5000}try{var k={title:j,style:f?"success":"error",theme:"right-bottom.css",timeout:d,message:c,icon:h};if(a){k.timeout=null}var b=new notify(k);b.show()}catch(g){$.gritter.add({position:"bottom-left",text:c,image:f?base_url+"images/statusOk.png":base_url+"images/statuserror.png",sticky:a,time:5000})}}catch(g){gcl(g)}}function SetConfirm(){$("body").on("click",".Confirm",function(a){var b=$(this).attr("msg");if(confirm(b)==false){a.stopPropagation();a.preventDefault()}});$("body").on("click",".ConfirmAjaxWR,.confirmAjaxWR",function(h){h.stopPropagation();h.preventDefault();var j=$(this).data("msg");var f=$(this);var g=$(this).attr("oncompleted");if(!g||g==""){g=$(this).data("on-complete")}var a=$(this);var c=a.attr("href");if(typeof(c)=="undefined"||c==""){alert("Target url is empty");return}if(typeof(swal)=="function"){if(j!=""){var d="";var b="";try{d=appGlobalLang.yesText;b=appGlobalLang.noText}catch(h){d="Yes";b="No"}swal({title:"",text:j,type:"warning",showCancelButton:true,confirmButtonClass:"btn-danger",confirmButtonText:d,cancelButtonText:b,closeOnConfirm:false,closeOnCancel:true,showLoaderOnConfirm:true},function(e){if(e){process_confirm_ajax(a,c,g)}})}else{process_confirm_ajax(a,c,g)}}else{if(j!=""){if(confirm(j)==false){return}}process_confirm_ajax(a,c,g)}})}function process_confirm_ajax(thisobj,url,callAfterProcess){var lastHtml="";$.ajax({url:url,type:"GET",scriptCharset:"utf-8",dataType:"json",beforeSend:function(){lastHtml=thisobj.html();thisobj.html('<i class="conf-loader fa fa-spinner fa-spin"></i> ')},success:function(rdata){try{if(callAfterProcess){var com=eval(callAfterProcess);if(typeof com=="function"){setTimeout(function(){com(rdata,thisobj)},50);return}}}catch(e){cl(e)}try{if(typeof(swal)=="function"){swal(rdata.status?"Success":"Failed",rdata.msg,rdata.status?"success":"error")}else{ShowGritterMsg(rdata.msg,rdata.status,rdata.is_sticky,rdata.title,rdata.icon)}}catch(e){gcl(e.message,true)}if(rdata.status){ReloadAll()}},complete:function(jqXHR,textStatus){thisobj.html(lastHtml)}})}function SetAjaxForm(){if($("form.app-ajax-form").each(function(){var Ajaxbostrapvalidator=$(this).bootstrapValidator({excluded:":disabled",message:"This value is not valid",feedbackIcons:{valid:"fa fa-check",invalid:"fa fa-times",validating:"fa fa-refresh"},fields:{cc_exp_date:{validators:{callback:{message:"Invalid MMYY",callback:function(value,validator){var m=new moment(value,"MMYY",true);if(!m.isValid()){return false}var m2=moment();return m>m2}}}}},submitHandler:function(validator,form,submitButton){var rtype=form.attr("request-type");var htmlBeforeLoading="";if(!rtype){rtype="json"}var isMultiPart=false;if(form.data("multipart")){try{form.find("input[type=file]").each(function(){if($(this).val()!=""){isMultiPart=true}})}catch(e){isMultiPart=true}}if(isMultiPart){var formData=new FormData(form[0]);formData=set_csrf_param(formData);var contentType=false;var processData=false;var async=true}else{var formData=set_csrf_param(form.serialize());var contentType="application/x-www-form-urlencoded; charset=UTF-8";var processData=true;var async=true}var method=form.attr("method");$.ajax({type:method,url:form.attr("action"),data:formData,processData:processData,dataType:rtype,contentType:contentType,cache:false,async:async,beforeSend:function(){htmlBeforeLoading=form.find("[type=submit]").html();form.find("[type=submit]").html('<i class="fa fa-spinner fa-spin"></i>');form.find("[type=submit]").addClass("Loading");form.find("[type=submit]").attr("disabled","disabled");try{var beforesend=form.data("beforesend");if(beforesend){eval(beforesend+"(form);");return}beforesend=form.attr("beforesend");if(beforesend){eval(beforesend+"(form);");return}beforesend=form.data("on-beforesend");if(beforesend){eval(beforesend+"(form);");return}}catch(e){}},success:function(rdata){try{var oncomplete=form.data("oncomplete");if(oncomplete){eval(oncomplete+"(rdata,form);");return}oncomplete=form.attr("oncomplete");if(oncomplete){eval(oncomplete+"(rdata,form);");return}oncomplete=form.data("on-complete");if(oncomplete){eval(oncomplete+"(rdata,form);");return}}catch(e){}if(rtype!="json"){return}if(rdata.status){ReloadAll()}},complete:function(jqXHR,textStatus){form.find("[type=submit]").removeClass("Loading");form.find("[type=submit]").removeAttr("disabled");form.find("[type=submit]").html(htmlBeforeLoading);if(jqXHR.status=="500"||jqXHR.status=="403"||textStatus=="error"){form.find(".state-loading").removeClass("state-loading");try{ShowGritterMsg(jqXHR.responseJSON.msg,jqXHR.responseJSON.status,jqXHR.responseJSON.is_sticky,jqXHR.responseJSON.title,jqXHR.responseJSON.icon)}catch(e){ShowGritterMsg("Unwanted Error",false,false,"Error !!","times-circle-o")}}}})}});try{Ajaxbostrapvalidator.find(".cbox-control").iCheck({checkboxClass:"icheckbox_square-green",radioClass:"iradio_square-green"}).on("ifChanged",function(e){try{var field=$(this).attr("name");var fromobj=$(this).closest("form");fromobj.bootstrapValidator("updateStatus",field,"NOT_VALIDATED").bootstrapValidator("validateField",field)}catch(e){}})}catch(e){}})){}}function HideMe(){$(".HideME").click(function(){$(this).parent().hide("slow")})}function AddOnPageCloseMethod(a){addonPageClose.push(a)}function AddOnCloseMethod(a){lboxOnCloseMethods.push(a)}function AddOnLoadPopupMethod(a){addonLoadPopup.push(a)}function AddOnShowNotificationMethod(a){addonShowNotification.push(a)}function AddOnInitialized(a){addOnInitialize.push(a)}function AddOnGridLoadComplete(a){addonGridDataLoad.push(a)}function AddOnPageResize(a){pageResizeMethod.push(a)}function OnCloseError(){$(".formError").hide()}function ReloadAll(){try{for(i in lboxOnCloseMethods){lboxOnCloseMethods[i]()}}catch(a){console.log(a)}}function ReloadShowNotificationAll(){try{for(i in addonShowNotification){addonShowNotification[i]()}}catch(a){console.log(a)}}function ResizeAll(){try{for(i in pageResizeMethod){pageResizeMethod[i]()}}catch(a){console.log(a)}}function setPageCloseMethod(){window.onbeforeunload=function(c){if(addonPageClose.length>0){var b=null;try{for(i in addonPageClose){var a=addonPageClose[i](c);if(a!=""){b=a}}}catch(c){console.log(c)}return b}else{return null}}}function clearSelectWindow(){try{$(".select2-container--open").remove()}catch(a){}}function OnClosed(){try{clearSelectWindow()}catch(e){}var thisObj=null;try{if(typeof(this._lastFocusedEl)!="undefined"){thisObj=$(this._lastFocusedEl)}else{if(typeof($(this)[0].ev)!="undefined"){thisObj=$(this)[0].ev}else{thisObj=$(this)}}}catch(e){thisObj=$(this)}var onclosemainevent=thisObj.attr("onclose");if(onclosemainevent){eval(onclosemainevent+"()");return}var onclosemainevent2=thisObj.data("onclose");if(onclosemainevent2){eval(onclosemainevent2+"()");return}if(MyAjaxChange){var data="";try{for(i in lboxOnCloseMethods){lboxOnCloseMethods[i]()}data=onRefresh()}catch(e){data=""}MyAjaxChange=false}OnCloseError()}function _colorboxLoadComplted(){LoadAfterContentLoad();try{PageLoadComplete()}catch(a){}try{$("#LightBoxBody").resize(function(){$.colorbox.resize()})}catch(a){}}function LegendIn(){$(this).animate({width:"+=16"},200,function(){$min=$(this).attr("minimize");if($min){$(this).find(".maximize").fadeIn();$(this).find(".minimize").fadeOut()}else{$(this).find(".maximize").fadeOut();$(this).find(".minimize").fadeIn()}})}function LegendOut(){console.log("out");$(this).find(".maximize,.minimize").hide();$(this).animate({width:"-=16"},200)}function Legend(){}function FromOnSubmit(){$("form input[type=submit]").click(function(b){var a=true;try{a=$(".mainForm").validationEngine("validate")}catch(b){a=true}if(a){if(!$(".mainForm").hasClass("NoLoading")){$(this).addClass("Loading")}}})}function SetFromValidation(){try{$(".bv-form:not(.app-lb-ajax-form)").each(function(){var submitHandler=$(this).data("submit-handler");if(submitHandler){submitHandler=eval(submitHandler)}$(this).bootstrapValidator({submitHandler:submitHandler,excluded:":disabled,:hidden:not(.force-bv)",message:"This value is not valid",feedbackIcons:{valid:"fa fa-check",invalid:"fa fa-times",validating:"fa fa-refresh"}});try{$(this).find(".cbox-control").iCheck({checkboxClass:"icheckbox_square-blue",radioClass:"iradio_square-blue"}).on("ifChanged",function(e){try{var field=$(this).attr("name");var fromobj=$(this).closest("form");fromobj.bootstrapValidator("updateStatus",field,"NOT_VALIDATED").bootstrapValidator("validateField",field)}catch(e){}})}catch(e){}})}catch(e){}}function SetValidation(a,b){try{var g=1;if(!a){a=".mainForm"}var c={fadeDuration:300,validationEventTrigger:"submit",focusFirstField:false};if(b){$.extend(c,b)}jQuery(a+" input,"+a+"  select").each(function(d){var h=$(this).attr("id");if(!h){$(this).attr("id","id"+g);g++}});jQuery(a).validationEngine(c);$(a).bind("jqv.field.result",function(j,h,e,d){if(!h.hasClass("vajax")){if(e){h.css("border","1px solid red")}else{h.css("border","1px solid #666666")}}});jQuery(a+"  input,"+a+"  select").live("focus",function(d){HideAllError()})}catch(f){gcl(f.message,true)}}function HideAllError(){$(".formError").fadeOut(500,function(){$(this).parent(".formErrorOuter").remove();$(this).remove()})}function SetLightBox(){try{setPopUpAjax()}catch(a){}SetTable();SetValidation();if(typeof $.colorbox=="undefined"){return}try{$(".lightbox,.Lightbox").colorbox({top:"10%",overlayClose:false,onComplete:_colorboxLoadComplted})}catch(a){gcl(a)}$(".lightboxWRM").each(function(d){try{var b=$(this).attr("href");var c=$(this).attr("width");if(currentUrl==b){return}currentUrl=b;if($.browser.mozilla){$(this).colorbox({overlayClose:false,top:"10%",onClosed:OnClosed,onComplete:_colorboxLoadComplted})}else{if(c){$(this).colorbox({width:c,overlayClose:false,top:"10%",onClosed:OnClosed,onComplete:_colorboxLoadComplted})}else{$(this).colorbox({width:"100%",overlayClose:false,top:"10%",onClosed:OnClosed,onComplete:_colorboxLoadComplted})}}}catch(d){gcl(d)}});try{$(".lightboxWR,.LightboxWR").colorbox({overlayClose:false,top:"10%",onClosed:OnClosed,onComplete:_colorboxLoadComplted});$(".lightboxWIF,.LightBoxWIF").colorbox({iframe:true,overlayClose:false,width:"1060px",height:"100%",onClosed:OnCloseError})}catch(a){gcl(a)}}function cl(b){try{console.log(b)}catch(a){alert(b)}}function SetTable(){$(".GSTable thead tr:first td:first,.GSTable tfoot tr:first td:first").addClass("FirstCell");$(".GSTable thead tr:last td:last,.GSTable tfoot tr:last td:last").addClass("LastCell");$(".GSTable:not(.noformat) tbody tr:odd").removeClass("even").addClass("odd");$(".GSTable:not(.noformat)  tbody tr:even").removeClass("odd").addClass("even");$(".GSTable thead tr:first td:first,.GSTable tfoot tr:first td:first").each(function(){if($(this).hasClass("FirstCell")&&$(this).hasClass("LastCell")){$(this).removeClass("FirstCell").removeClass("LastCell").addClass("BothCell")}});$(".GSTable tfoot tr:first td:first,.GSTable tfoot tr:first td:first").each(function(){if($(this).hasClass("FirstCell")&&$(this).hasClass("LastCell")){$(this).removeClass("FirstCell").removeClass("LastCell").addClass("BothCell")}});try{SetDatePicker()}catch(a){gcl(a.message,true)}}function ReloadSiteUrl(){window.location=window.location.href}function RedirectUrl(a){window.location=a}function CallMyAjax(b,g,e,d,f,a,h,c){if(!e){e=function(){}}if(!d){d=function(){}}if(typeof(f)=="undefined"){f=true}if(typeof(h)=="undefined"){h=false}if(typeof(c)=="undefined"){c=null}$.ajax({url:b,data:set_csrf_param(g),type:"POST",scriptCharset:"utf-8",dataType:f?"json":"html",beforeSend:function(){e()},success:function(j){if(f){}d(j)},complete:function(j,k){if(typeof(a)!="undefined"){a(j,k)}if(k=="error"){if(j.status=="404"){console.log("Error: Page does not found")}else{if(j.status=="408"){console.log("Error: Sarver does not active.")}else{console.log("Error: May be connection lost.")}}}}})}function formatPhoneNumber(a,b,f){try{var c=new RegExp("([0-9]{3})([0-9]{3})([0-9]{3,6})","g");a=a.replace(c,"($1) $2-$3")}catch(d){gcl(d.message,true)}return a}function formatFullPhoneNumber(a,b,f){try{var c=new RegExp("[1-9]([0-9]{3})([0-9]{3})([0-9]{3,6})","g");a=a.replace(c,"($1) $2-$3")}catch(d){gcl(d.message,true)}return a}function GetData(){}$(function(){$(document).on("click",".showhidebtn",function(){if($(".DMHeader").hasClass("hide")){$.removeCookie("headerhide");$(".showhidebtn").removeClass("clickedt");$(".DMBody").animate({marginTop:0},300,function(){$(".DMHeader").slideDown("slow",function(){$(".DMHeader").removeClass("hide");$(".onHideHeader").fadeOut("show")})})}else{$(".showhidebtn").addClass("clickedt");$(".DMBody").animate({marginTop:20},300,function(){$(".DMHeader").slideUp("slow",function(){$.cookie("headerhide",1);$(".onHideHeader").fadeIn("show");$(".DMHeader").addClass("hide")})})}});$(document).on("click",".showhideleftbtn",function(){if($(".DMContainer .DMBody .LeftMenu").hasClass("hide")){$(".showhideleftbtn").removeClass("clickedl");$.removeCookie("lefthide");$(".DMContainer .DMBody .ContentBody").animate({marginLeft:200},500,function(){});$(".DMContainer .DMBody .LeftMenu").animate({marginLeft:0},500,function(){$(this).removeClass("hide");ResizeAll()})}else{$(".showhideleftbtn").addClass("clickedl");$(".DMContainer .DMBody .LeftMenu").animate({marginLeft:-200},500,function(){$.cookie("lefthide",1);ResizeAll();$(this).addClass("hide")});$(".DMContainer .DMBody .ContentBody").animate({marginLeft:20},500,function(){})}});$(".clps .menulist").css("display","none");$(document).on("click",".MenuGroup .title",function(){var c=$(this);var a=$(this).parent();var b=$(this).parent().find(".menulist");if(a.hasClass("clps")){a.removeClass("clps");b.slideDown("slow",function(){$.removeCookie(a.attr("id"))})}else{b.slideUp("slow",function(){a.addClass("clps");$.cookie(a.attr("id"),1)})}});SetFullScreen();$("body").on("click",".remove-parents",function(c){c.preventDefault();var b=$(this);var a=confirm("Are you sure?");if(a){$(this).parent().animate({opacity:0},500,function(){$(this).remove()})}})});function SetiCheckBox(a){try{$(a).iCheck({checkboxClass:"icheckbox_square-greed",radioClass:"iradio_square-green"})}catch(b){}}function printPDF(b){var a=window.open(b);a.print();a.close()}function ReloadIfAjaxWindowChanged(){if(MyAjaxChange){ReloadSiteUrl();MyAjaxChange=false}}function SetFullScreen(){try{$(".full-screen").prepend('<a type="button" href="#" class="full-screen-btn btn-xs btn"><i class="fa"></i></a>');$("body").on("click",".full-screen-btn",function(b){b.preventDefault();$("body").toggleClass("full-screen-body")})}catch(a){gcl(a)}}function GetTimeSpendDate(j,h){var f=Math.floor(j.getTime()-h.getTime());var c=Math.floor(f/1000);var a=Math.floor(c/60);var e=Math.floor(a/60);var g=Math.floor(e/24);var b=Math.floor(g/31);var d=Math.floor(b/12);b=Math.floor(b%12);g=Math.floor(g%31);e=Math.floor(e%24);a=Math.floor(a%60);c=Math.floor(c%60);var k="";if(g<=0){k+=c+" sec ";k+=a+" min ";k+=e+" hours "}else{k+=g+" days ";if(b>0||d>0){k+=b+" months "}if(d>0){k+=d+" years ago"}}return k}function getCookie(a){cName="";pCOOKIES=new Array();pCOOKIES=document.cookie.split("; ");for(bb=0;bb<pCOOKIES.length;bb++){NmeVal=new Array();NmeVal=pCOOKIES[bb].split("=");if(NmeVal[0]==a){cName=unescape(NmeVal[1])}}return cName}function printCookies(a){cStr="";pCOOKIES=new Array();pCOOKIES=document.cookie.split("; ");for(bb=0;bb<pCOOKIES.length;bb++){NmeVal=new Array();NmeVal=pCOOKIES[bb].split("=");if(NmeVal[0]){cStr+=NmeVal[0]+"="+unescape(NmeVal[1])+"; "}}return cStr}function deleteCookie(a){try{document.cookie=a+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT"}catch(b){}}function setCookie(b,d,a,f,c,e){cookieStr=b+"="+escape(d)+"; ";if(a){a=setExpiration(a);cookieStr+="expires="+a+"; "}if(f){cookieStr+="path="+f+"; "}if(c){cookieStr+="domain="+c+"; "}if(e){cookieStr+="secure; "}document.cookie=cookieStr}function setExpiration(b){var a=new Date();var c=new Date(a.getTime()+b*24*60*60*1000);return c.toGMTString()}function loadedCallback(){console.log("Called From Gsscript after colorbox loaded")}var AppLightboxValidatorObject=null;function SetLightBoxAjax(){try{var a=$("form.app-lb-ajax-form").bootstrapValidator({excluded:":disabled,:hidden",message:"This value is not valid",feedbackIcons:{valid:"fa fa-check",invalid:"fa fa-times",validating:"fa fa-refresh"},fields:{exp_date:{validators:{callback:{message:"Invalid MMYY",callback:function(f,e){var c=new moment(f,"MMYY",true);if(!c.isValid()){return false}var d=moment();return c>d}}}}},onChangeStatus:function(c,d){try{$.colorbox.resize({preloading:true})}catch(f){}},submitHandler:function(d,f,c){if(f.data("multipart")){$(".lightboxWraper").fadeIn();var g=new FormData(f[0]);g=set_csrf_param(g);var j=false;var h=false;var e=false}else{var g=set_csrf_param(f.serialize());var j="application/x-www-form-urlencoded; charset=UTF-8";var h=true;var e=true}$.ajax({type:"POST",url:f.attr("action"),data:g,processData:h,contentType:j,cache:false,async:e,beforeSend:function(){ShowWaitinglight(true)},success:function(l){var k=$("<div/>");k.html(l);var n=k.find("#LightBoxBody");$("#popup-container").attr("class",k.find("#popup-container").attr("class"));$("#LightBoxBody").html(n.html());LoadAfterContentLoad();try{_popupajaxLoadComplted()}catch(m){}try{PageLoadComplete()}catch(m){}MyAjaxChange=true;try{$.colorbox.resize({preloading:true})}catch(m){}SetLightBox()},complete:function(){ShowWaitinglight(false)}})}});try{a.find(".cbox-control").iCheck({checkboxClass:"icheckbox_square-green",radioClass:"iradio_square-green"}).on("ifChanged",function(f){try{var d=$(this).attr("name");var c=$(this).closest("form");c.bootstrapValidator("updateStatus",d,"NOT_VALIDATED").bootstrapValidator("validateField",d)}catch(f){}})}catch(b){}AppLightboxValidatorObject=a}catch(b){cl(b)}}function ShowWaitinglight(a){if(typeof(a)=="undefined"){a=true}if(a){$(".lightboxWraper").fadeIn()}else{$(".lightboxWraper").fadeOut()}}function LoadAfterContentLoad(){try{SetLightBox();setSelect2();SetImageInput()}catch(a){}try{SetDatePicker();SetColorPicker()}catch(a){}$(".CloseBox").click(function(){try{$.colorbox.close()}catch(b){}});try{SetLightBoxAjax();HideMe()}catch(a){}try{setMask()}catch(a){}try{AfterLiboxLoad()}catch(a){}try{for(i in addonLoadPopup){try{addonLoadPopup[i]()}catch(a){}}}catch(a){console.log(a)}}function SetPrintWindowTab(){$("body").on("click",".app-print-tab",function(b){b.preventDefault();try{var a=window.open($(this).attr("href"))}catch(b){gcl(b)}})}function SetPrintButton(){SetPrintWindowTab();if(jQuery("#app-print-iframe").length==0){jQuery("body").append("<iframe id='app-print-iframe' style='border:none;height:0;width:0'></iframe>")}$("body").on("click",".app-print",function(a){a.preventDefault();try{jQuery("#app-print-iframe").attr("src",$(this).attr("href"))}catch(a){gcl(a)}})}function arraysEqual(d,c){if(d===c){return true}if(d==null||c==null){return false}if(d.length!=c.length){return false}for(var e=0;e<d.length;++e){if(d[e]!==c[e]){return false}}return true}function setSelect2(){try{try{$(".select2:not(.a-select2)").closest(".mfp-wrap").removeAttr("tabindex")}catch(a){}$(".select2:not(.a-select2)").each(function(){try{var b=$(this).closest(".mfp-wrap,.modal");if(jQuery.isEmptyObject(b)||$(this).closest(".mfp-wrap,.modal").length>0){$(this).select2({theme:"bootstrap",dropdownParent:b})}else{$(this).select2({theme:"bootstrap"})}}catch(c){$(this).select2({theme:"bootstrap"})}});$(".select2:not(.a-select2)").addClass("a-select2")}catch(a){}}function _popupajaxLoadComplted(){LoadAfterContentLoad();try{PageLoadComplete()}catch(a){}try{setPopUpText()}catch(a){}try{setPopUpAjax()}catch(a){}try{setSwitchButton()}catch(a){}try{$(".mfp-wrap").scrollTop(0)}catch(a){}}function setSwitchButton(){try{$("input.app-switch-btn").each(function(){var c=$(this).data("btn-group");var b={baseGroupCls:"btn-group"};if(c){b.baseGroupCls+=" "+c}$(this).checkboxpicker(b).on("change",function(){$(this).trigger("input")})})}catch(a){}}function setPopUpAjax(){SetTable();SetValidation();try{if($.magnificPopup.instance){$.magnificPopup.instance.popupsCache={}}$(".popupform,.Popupform,.popupformWR,.PopupformWR,.popupimg,.Popupimg,.popupinline,.Popupinline,.PopupInline").each(function(){var b=$(this).data("effect");if(!b){$(this).attr("data-effect","mfp-move-from-top");$(this).data("effect","mfp-move-from-top")}});$(".popupform:not(.apopf),.Popupform:not(.apopf)").magnificPopup({type:"ajax",preloader:true,removalDelay:500,closeOnBgClick:false,closeBtnInside:true,overflowY:"auto",fixedBgPos:false,zoom:{enabled:false},tLoading:'<i class="fa fa-circle-o faa-burst animated"></i> &nbsp;Loading..',callbacks:{beforeOpen:function(){this.st.mainClass=this.st.el.attr("data-effect")},open:function(){},close:function(){},updateStatus:function(b){if(b.status==="ready"){_popupajaxLoadComplted()}}}});$(".popupimg:not(.apopf),.Popupimg:not(.apopf)").magnificPopup({type:"image",closeOnContentClick:true,mainClass:"mfp-img-mobile",callbacks:{resize:function(){var b=this.content.find("img");b.css("max-height",$(window).height()-50);b.css("width","auto");b.css("max-width","auto")},elementParse:function(b){try{if(b.el.context.tagName.toUpperCase()=="IMG"){b.src=b.el.attr("src")}}catch(c){try{if(b.el[0].nodeName=="IMG"){b.src=b.el[0].src}}catch(d){}}}}});$(".popupinline:not(.apopf),.Popupinline:not(.apopf),.PopupInline:not(.apopf)").magnificPopup({type:"inline",preloader:true,removalDelay:500,closeBtnInside:true,overflowY:"auto",closeOnBgClick:false,fixedBgPos:false,zoom:{enabled:false},tLoading:'<i class="fa fa-circle-o faa-burst animated"></i> &nbsp;Loading..',callbacks:{beforeOpen:function(){this.st.mainClass=this.st.el.attr("data-effect");try{$(this.st.el.attr("href")).addClass("mfp-with-anim")}catch(b){}},open:function(){},close:function(){},updateStatus:function(b){if(b.status==="ready"){_popupajaxLoadComplted()}}}})}catch(a){gcl(a)}try{$(".popupformWR:not(.apopf),.PopupformWR:not(.apopf)").magnificPopup({type:"ajax",preloader:true,removalDelay:500,closeBtnInside:true,overflowY:"auto",closeOnBgClick:false,fixedBgPos:false,zoom:{enabled:false},tLoading:'<i class="fa fa-circle-o faa-burst animated"></i> &nbsp;Loading..',callbacks:{beforeOpen:function(){this.st.mainClass=this.st.el.attr("data-effect")},open:function(){},close:OnClosed,updateStatus:function(b){if(b.status==="ready"){_popupajaxLoadComplted()}}}})}catch(a){gcl(a)}try{$(".popupformIF:not(.apopf),.PopupformIF:not(.apopf)").magnificPopup({type:"iframe",preloader:true,removalDelay:500,closeBtnInside:true,overflowY:"auto",closeOnBgClick:false,fixedBgPos:false,zoom:{enabled:false},tLoading:'<i class="fa fa-circle-o faa-burst animated"></i> &nbsp;Loading..',callbacks:{beforeOpen:function(){this.st.mainClass=this.st.el.attr("data-effect")},open:function(){},close:function(){},updateStatus:function(b){if(b.status==="ready"){_popupajaxLoadComplted()}}}})}catch(a){gcl(a)}try{$(".popupformWIF:not(.apopf),.PopupformWIF:not(.apopf)").magnificPopup({type:"iframe",preloader:true,removalDelay:500,closeBtnInside:true,overflowY:"auto",closeOnBgClick:false,fixedBgPos:false,zoom:{enabled:false},tLoading:'<i class="fa fa-circle-o faa-burst animated"></i> &nbsp;Loading..',callbacks:{beforeOpen:function(){this.st.mainClass=this.st.el.attr("data-effect")},open:function(){},close:OnClosed,updateStatus:function(b){if(b.status==="ready"){_popupajaxLoadComplted()}}}})}catch(a){gcl(a)}$(".popupform:not(.apopf),.Popupform:not(.apopf),.popupformWR:not(.apopf),.PopupformWR:not(.apopf),.popupimg:not(.apopf),.Popupimg:not(.apopf),.popupinline:not(.apopf),.Popupinline:not(.apopf),.PopupInline:not(.apopf)").addClass("apopf")}function set_options_to_select(e,a,c){if(typeof(c)=="undefined"){c=null}var d=jQuery(e);d.find("option").remove();var f=$("<option>");f.val("");f.text("select");d.append(f);if(a){for(var b in a){var f=$("<option>");f.val(b);f.text(a[b]);d.append(f)}}else{}}function confirm_wr_change(b,a){if(typeof(swal)=="function"){swal(b.status?"Success":"Failed",b.msg,b.status?"success":"error")}else{ShowGritterMsg(b.msg,b.status,b.is_sticky,b.title,b.icon)}if(b.status){a.html(b.data)}}function SetBootstrapSelect(){try{}catch(a){}}function SetTextDigit(){$(function(){$(".text-degit-field").on("keyup",function(f){try{var b=$(this).val();var a=number2text(b);var d=$(this).parent();if(d.find(".text-digit").length>0){if(b>0){d.find(".text-digit").text(a);d.find(".text-digit").show()}else{d.find(".text-digit").hide()}}else{var c=$('<span class="text-digit">'+a+"</span>");d.append(c);c.show()}}catch(f){gcl(f)}})})}var AppFromValidatorObject=null;function SetNormalFormAjax(){try{$("#main-content").prepend('<div id="MainFormLoader" class="MainLoader"><div class="msgText"></div></div>');var b=$("form.app-nm-ajax-form").bootstrapValidator({excluded:":disabled,:hidden",message:"This value is not valid",feedbackIcons:{valid:"fa fa-check",invalid:"fa fa-times",validating:"fa fa-refresh"},onChangeStatus:function(c,d){},submitHandler:function(d,e,h){var k=e.attr("request-type");var m="";if(!k){k="json"}if(e.data("multipart")){var f=new FormData(e[0]);f=set_csrf_param(f);var l=false;var j=false;var g=true}else{var f=set_csrf_param(e.serialize());var l="application/x-www-form-urlencoded; charset=UTF-8";var j=true;var g=true}var c=e.attr("method");$.ajax({type:c,url:e.attr("action"),data:f,processData:j,dataType:k,contentType:l,cache:false,async:g,beforeSend:function(){ShowFormWait(true,"Processing..")},success:function(n){ShowFormWait(true,"Processing..")},success:function(o,p,n){ShowFormWait(false,"",function(){if(n.status=="200"){$("#main-content").html(o.html);Initialize();if(o.urrent_url!=window.location){if(o.title!=""){$("title").html(o.title)}history.pushState(o.title,o.title,o.current_url)}}});e.find("button[type=submit]").prop("disabled",false)},complete:function(p,n,o){e.find("button[type=submit]").prop("disabled",false)}})}});AppLightboxValidatorObject=b}catch(a){alert(a);cl(a)}}function SetImageInput(){var fileCounter=0;$(".app-image-input:not(.added-apim)").each(function(){try{fileCounter++;var mainObj=$(this);mainObj.addClass("added-apim");var on_change=mainObj.data("change");if(on_change){on_change=eval(on_change)}var has_delete=mainObj.data("delete");var imgObj=null;var imgObjstr=mainObj.data("img-id");if(imgObjstr){imgObj=$(imgObjstr)}else{imgObj=mainObj}var inputname=mainObj.data("name");if(!inputname||inputname==""){inputname="file_"+fileCounter}var inputObj=$('<input type="file" name="'+inputname+'" style="display:none;" accept="image/*">');var delete_btn=null;if(has_delete){delete_btn=$('<button style="display:none;position: absolute;right: 16px;top: 6px;font-size: 9px;" class="btn btn-danger btn-xs"><fa class="fa-trash"></fa></button>');delete_btn.click(function(e){e.preventDefault();inputObj.val("");var noimg=mainObj.data("date-noimage");if(!noimg){noimg=base_url+"images/no-image-2.png"}mainObj.attr("src",noimg);$(this).hide();try{if(typeof on_change=="function"){on_change("")}}catch(e){}});if(mainObj.data("show-delete")){delete_btn.show()}mainObj.after(delete_btn)}mainObj.on("click",function(){inputObj.trigger("click")});inputObj.on("change",function(e){var fr=new FileReader();fr.onload=function(e){imgObj.attr("src",this.result);mainObj.after(inputObj);try{if(delete_btn){delete_btn.show()}}catch(e){}try{gcl(on_change);if(typeof on_change=="function"){on_change(this.result)}}catch(e){}};fr.readAsDataURL(this.files[0])})}catch(e){gcl(e.message)}})}function SetDefaultColorButton(){$("body").on("click",".app-default-color",function(c){c.preventDefault();var b=$($(this).data("target"));var a=$(this).data("color");b.val(a);b.trigger("input");b.trigger("change")})}function CallOnAjaxComplete(a,b){$(document).ajaxComplete(function(d,e,c){if(c.url===a){if(typeof(b)=="function"){b(d,e,c)}}})}function setNiceScroll(){try{$(".app-nice-scroll:not(.a-nice-scroll)").addClass("a-nice-scroll").niceScroll({cursorcolor:"rgba(0, 0, 0, 0.31)",cursorwidth:"7px",background:"rgba(0, 0, 0, 0.03)",autohidemode:"leave"})}catch(a){}}function app_handle_grid_unauthorize(b,a){try{if(b.redirect_url.length!==0){a.html(b.msg);ShowWait(true,"Redirecting..");ReloadSiteUrl()}}catch(c){}}function set_vertical_menu(){$(".nav-tabs-dropdown").each(function(a,b){$(b).text($(b).next("ul").find("li.active a").text())});$(".nav-tabs-dropdown").on("click",function(a){a.preventDefault();$(a.target).toggleClass("open").next("ul").slideToggle()});$('a[data-toggle="tab"]').on("click",function(a){a.preventDefault();$(a.target).closest("ul").hide().prev("a").removeClass("open").text($(this).text())})};